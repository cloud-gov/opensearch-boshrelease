<% require 'json' %>
<% if(p('cloudfoundry.firehose_events').include? 'LogMessage') %>
{
  "attributes": {
    "title": "App - Performance",
    "hits": 0,
    "description": "",
    "panelsJSON": "<%= JSON.parse(<<'ENDOFFJSON').to_json.gsub(/"/) { '\"' }
      [
        {
          "panelIndex": "2",
          "panelRefName": "panel_0",
          "version": "7.3.0",
          "gridData": {
            "x": 0,
            "y": 0,
            "w": 12,
            "h": 16,
            "i": "2"
          },
          "embeddableConfig": {}
        },
        {
          "panelIndex": "3",
          "panelRefName": "panel_1",
          "version": "7.3.0",
          "gridData": {
            "x": 12,
            "y": 0,
            "w": 36,
            "h": 16,
            "i": "3"
          },
          "embeddableConfig": {}
        },
        {
          "panelIndex": "4",
          "panelRefName": "panel_2",
          "version": "7.3.0",
          "gridData": {
            "x": 32,
            "y": 16,
            "w": 16,
            "h": 16,
            "i": "4"
          },
          "embeddableConfig": {}
        },
        {
          "panelIndex": "5",
          "panelRefName": "panel_3",
          "version": "7.3.0",
          "gridData": {
            "x": 0,
            "y": 16,
            "w": 32,
            "h": 16,
            "i": "5"
          },
          "embeddableConfig": {}
        },
        {
          "panelIndex": "6",
          "panelRefName": "panel_4",
          "version": "7.3.0",
          "gridData": {
            "x": 0,
            "y": 32,
            "w": 48,
            "h": 16,
            "i": "6"
          },
          "embeddableConfig": {
            "columns": [
              "@cf.app",
              "rtr.response_time_ms",
              "rtr.verb",
              "rtr.status",
              "rtr.path"
            ],
            "sort": [
              "@timestamp",
              "desc"
            ]
          }
        }
      ]
ENDOFFJSON
  %>",
    "optionsJSON": "{\"darkTheme\":false}",
    "version": 1,
    "timeRestore": false,
    "kibanaSavedObjectMeta": {
      "searchSourceJSON": "<%= JSON.parse(<<'ENDOFFJSON').to_json.gsub(/"/) { '\"' }
      {
        "filter": [
          {
            "query": {
              "query_string": {
                "analyze_wildcard": true,
                "query": "*"
              }
            }
          }
        ]
      }
ENDOFFJSON
  %>"
    }
  },
  "references": [
    {
      "id": "App-RTR-request-count-(top-10-apps)",
      "name": "panel_0",
      "type": "visualization"
    },
    {
      "id": "App-RTR-traffic-by-response_time_ms-(first-10-apps)",
      "name": "panel_1",
      "type": "visualization"
    },
    {
      "id": "App-RTR-response-times",
      "name": "panel_2",
      "type": "visualization"
    },
    {
      "id": "App-RTR-response-times-(50th-and-95th-first-10-apps)",
      "name": "panel_3",
      "type": "visualization"
    },
    {
      "id": "app-rtr-long-response",
      "name": "panel_4",
      "type": "search"
    }
  ]
}
<% end %>
